#cpp 2022/7/9
## 函数参数传递-vector和其它容器类型的形参
- 不要使用普通的非引用vector形参
- 要使用引用形参传递
- 事实上，C++程序员要传递vector的迭代器
1. 顺序容器：vector, list, deque等
2. 关联容器：map, set等
```cpp
#include <iostream>
#include <vector>
using namespace std;

void print(vector<double> v)
{
	vector<double>::iterator iter = v.begin();
	while(iter != v.end()){
		cout << *iter << endl;
		++iter;
	}
}
void print2(vector<double> &v)
{
	for(vector<double>::iterator iter=v.begin(); iter != v.end(); ++iter)
		cout << *iter << endl;
}
void print3(vector<double>::const_iterator beg,
			vector<double>::const_iterator end)//传迭代器 
{
	while(beg != end){
		cout << *beg++;
		if(beg != end) cout << " ";
	}
	cout << endl;
}
double print4(vector<double>::const_iterator beg,
			vector<double>::const_iterator end)
{
	double sum = 0.0;
	while(beg != end){
		sum += *beg++;
	}
//	cout << sum << endl;
	return sum;
}

int main()
{
	vector<double> dvec;
//	dvec.push_back(1.1);
//	dvec.push_back(2.2);
//	dvec.push_back(3.3);
	
//	print(dvec);//	把dvec复制到形参 
//	print2(dvec);//传引用
//	print3(dvec.begin(), dvec.end());//传迭代器
	cout << "Entry some nums:" << endl;
	double num;
	while(cin >> num)
		dvec.push_back(num);
	double res = print4(dvec.begin(), dvec.end());
	cout << "sum of nums is: " << res << endl;
	return 0;
}
```
## 函数参数传递-数组形参
>数组不能复制
>数组名是指向数组第一个元素的指针

- 三种传递数组的写法
- 形参的长度会引起误解
- 数组实参-数组会悄悄地转换为指针
- 通过引用传递数组
- 多维数组地传递
- 传递给函数地数组地处理-三种方法
	- 1
```cpp
#include <iostream>

using namespace std;
void print1(int *x, size_t size)//指向数组的第一个元素，需要把数组大小传进来 
{
	for(size_t i=0; i != size; ++i)
		cout << x[i] << " ";
	cout << endl;
}
void print2(int x[], size_t size)//同上 
{
	for(size_t i=0; i != size; ++i)
		cout << x[i] << " ";
	cout << endl;
}
void print3(int x[10], size_t size)//10没用，写不写不影响 
{
	
}
//int (&x)[10]：x是引用，指向含有10个元素的数组
//int &x[10]：x是数组，含有10个元素都是引用。 
void print4(int (&x)[10])//10必须写，不够灵活 
{
	cout << "传数组的引用:" << endl;
	for(size_t i=0; i != 10; ++i)
		cout << x[i] << " ";
	cout << endl;
}
//多维数组，x是一个指针，指向一个含有rowSize行的数组的第一行，每一行是10个数 
void print5(int (*x)[10], size_t rowSize)
{
	cout << "二维数组：" << endl;
	for(size_t i=0; i != rowSize; ++i){
		for(size_t j=0; j != 10; ++j)
			cout << x[i][j] << " ";
		cout << endl;
	}
}
//传入指向首个元素和末尾元素的指针
void print6(const int *beg, const int *end)
{
	cout << "传首尾元素指针：" << endl;
	while(beg != end)
		cout << *beg++ << " ";
	cout << endl;
 }
//传字符数组(C风格字符串)，最后一个字符是null(\0) 
void print7(const char *x)
{
	cout << "传字符数组/C风格字符串:" << endl;
	while(*x)//检测指针所指内容是否非空，C风格字符串最后一个字符'\0'为空 
		cout << *x++;
	cout << endl;	
} 

int main()
{
	int arr[] = {2, 4, 6, 8, 0, 1, 3, 5, 7, 9};
	print1(arr, 10);
	print2(arr, 10);
	print4(arr);
	print6(arr, arr+10);
	int m[][10] = {
		{1,2,3,4,5,6,7,8,9,10},
		{9,8,7,6,5,4,3,2,1,0},
		{5,8,9,6,3,2,1,4,7,11}
	};
	print5(m, 3);
	
	char x[] = "bruce lee go";
	print7(x);
	return 0;
}
```
## main函数：处理命令行选项
```cpp
//命令行选项
//argc：个数
//argv：字符串数组，每一个元素都是字符串
int main(int argc, char **argv)
{
	...
}
```
```cpp
#include <iostream>
using namespace std;
//命令行选项：个数 字符串数组，每一个元素是一个字符串 
int main(int argc, char **argv)
{
	cout << argv[0] << endl;//argv[0]不是命令行选项，而是程序名称,本例为6.7 
	cout << argv[1] << endl;
	cout << argv[2] << endl;
	for(int i=0; i<argc; ++i)//使用循环，输出所有参数
		cout << argv[i] << endl;
	
	int start, end, step;
	start = atoi(argv[1]);//将字符串转为数值："123"→123
	end = atoi(argv[2]);
	step = atoi(argv[3]);
	for(int k=start; k<=end; k+=step)
		cout << k << endl;
	return 0;
}
//在程序所在文件夹运行
//...6.7 hello world c++
//输出：6.7 hello world
```

